считаем количество символов, сохраняем в мапу
проходимся по мапе и переносим количество в отдельный сет
если количество уже занято, то уменьшаем количество и снова проверяем

решение не оптимальное