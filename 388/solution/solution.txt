текущий уровень хранится в мапе

набираем путь во временную строку
встретили \n - смотрим сколько отступов \r это будет новый уровень
если текущая строка файл - содержит точку, то считаем длины всех предыдущих уровней от 0 до текущего уровня
обновляем максимум
edge case если файл последний в исходной строке - проверяем временную строку еще раз

TODO: хранить строку в мапе совсем не обязательно, достаточно хранить ее длину

