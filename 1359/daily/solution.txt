если i = 2, то остается всего одна позиция для доставки
_ _ P2 _

если i = 0
P2 _ _ _
то у нас 3 позиции для доставки, но P1 не может занимать позицию 3, только 1 или 2.
Поэтому на каждом шаге перестановки у нас (2i-1)*i перестановок

P2 _ _ _
P2 P1 _ _
P2 _ P1 _

_ P2 _ _
P1 P2 _ _
_ P2 P1 _

_ _ P2 _
P1 _ P2 _
_ P1 P2 _

